--Group 3
--Project1


USE Master

IF EXISTS (SELECT * FROM sysdatabases WHERE name='Project1Todo')
DROP DATABASE Project1Todo
GO

CREATE LOGIN CMSUser WITH PASSWORD = 'Iwanttoconnect'
GO

/****** Object:  Database [Project1Todo]    Script Date: 2/4/2017 4:40:46 PM ******/
CREATE DATABASE [Project1Todo]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'Project1Todo', FILENAME = N'C:\MSSQLDBS\Project1Todo.mdf' , SIZE = 10240KB , MAXSIZE = 51200KB , FILEGROWTH = 10%)
 LOG ON 
( NAME = N'Project1Todo_Log', FILENAME = N'C:\MSSQLDBS\Project1Todo.ldf' , SIZE = 2496KB , MAXSIZE = 12544KB , FILEGROWTH = 1024KB )
GO
ALTER DATABASE [Project1Todo] SET COMPATIBILITY_LEVEL = 130
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [Project1Todo].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [Project1Todo] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [Project1Todo] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [Project1Todo] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [Project1Todo] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [Project1Todo] SET ARITHABORT OFF 
GO
ALTER DATABASE [Project1Todo] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [Project1Todo] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [Project1Todo] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [Project1Todo] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [Project1Todo] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [Project1Todo] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [Project1Todo] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [Project1Todo] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [Project1Todo] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [Project1Todo] SET  ENABLE_BROKER 
GO
ALTER DATABASE [Project1Todo] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [Project1Todo] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [Project1Todo] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [Project1Todo] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [Project1Todo] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [Project1Todo] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [Project1Todo] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [Project1Todo] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [Project1Todo] SET  MULTI_USER 
GO
ALTER DATABASE [Project1Todo] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [Project1Todo] SET DB_CHAINING OFF 
GO
ALTER DATABASE [Project1Todo] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [Project1Todo] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [Project1Todo] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [Project1Todo] SET QUERY_STORE = OFF
GO
USE [Project1Todo]
GO
ALTER DATABASE SCOPED CONFIGURATION SET MAXDOP = 0;
GO
ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET MAXDOP = PRIMARY;
GO
ALTER DATABASE SCOPED CONFIGURATION SET LEGACY_CARDINALITY_ESTIMATION = OFF;
GO
ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET LEGACY_CARDINALITY_ESTIMATION = PRIMARY;
GO
ALTER DATABASE SCOPED CONFIGURATION SET PARAMETER_SNIFFING = ON;
GO
ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET PARAMETER_SNIFFING = PRIMARY;
GO
ALTER DATABASE SCOPED CONFIGURATION SET QUERY_OPTIMIZER_HOTFIXES = OFF;
GO
ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET QUERY_OPTIMIZER_HOTFIXES = PRIMARY;
GO
USE [Project1Todo]
GO
/****** Object:  User [CMSUser]    Script Date: 2/4/2017 4:40:46 PM ******/
CREATE USER [CMSUser] FOR LOGIN [CMSUser] WITH DEFAULT_SCHEMA=[dbo]
GO
ALTER ROLE [db_datareader] ADD MEMBER [CMSUser]
GO
ALTER ROLE [db_datawriter] ADD MEMBER [CMSUser]
GO
/****** Object:  Table [dbo].[__MigrationHistory]    Script Date: 2/4/2017 4:40:46 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[__MigrationHistory](
	[MigrationId] [nvarchar](150) NOT NULL,
	[ContextKey] [nvarchar](300) NOT NULL,
	[Model] [varbinary](max) NOT NULL,
	[ProductVersion] [nvarchar](32) NOT NULL,
 CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY CLUSTERED 
(
	[MigrationId] ASC,
	[ContextKey] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Categories]    Script Date: 2/4/2017 4:40:46 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Categories](
	[CategoryId] [int] IDENTITY(1,1) NOT NULL,
	[CategoryName] [nvarchar](max) NULL,
 CONSTRAINT [PK_dbo.Categories] PRIMARY KEY CLUSTERED 
(
	[CategoryId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Items]    Script Date: 2/4/2017 4:40:46 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Items](
	[ItemId] [int] IDENTITY(1,1) NOT NULL,
	[Description] [nvarchar](max) NULL,
	[IsComplete] [bit] NOT NULL,
	[List_ListId] [int] NULL,
 CONSTRAINT [PK_dbo.Items] PRIMARY KEY CLUSTERED 
(
	[ItemId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Lists]    Script Date: 2/4/2017 4:40:46 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Lists](
	[ListId] [int] IDENTITY(1,1) NOT NULL,
	[ListName] [nvarchar](max) NULL,
 CONSTRAINT [PK_dbo.Lists] PRIMARY KEY CLUSTERED 
(
	[ListId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[ListToCategories]    Script Date: 2/4/2017 4:40:46 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ListToCategories](
	[ListToCategoryId] [int] IDENTITY(1,1) NOT NULL,
	[ListId] [int] NOT NULL,
	[CategoryId] [int] NOT NULL,
 CONSTRAINT [PK_dbo.ListToCategories] PRIMARY KEY CLUSTERED 
(
	[ListToCategoryId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
INSERT [dbo].[__MigrationHistory] ([MigrationId], [ContextKey], [Model], [ProductVersion]) VALUES (N'201702020145188_AutomaticMigration', N'ToDoListV99.Models.MyDbContext', 0x1F8B0800000000000400DD5B4B6FE33610BE17E87F10746A8BAC95642FDDC0DE45D6490AA3792C6267D15B404BB44354A254910A6C14FD653DF427F52F74A8B748EA69C75E147B8925CE8333DF708633DA7FFFFE67FC69E3B9C62B0E19F1E9C43C1B9D9A06A6B6EF10BA9E98115FBDFBD9FCF4F1FBEFC6D78EB731BE66EBDE8B754049D9C47CE13CB8B02C66BF600FB19147ECD067FE8A8F6CDFB390E35BE7A7A71FACB3330B030B137819C6F831A29C7838FE013FA73EB571C023E4DEF90E7659FA1CDECC63AEC63DF2300B908D27E6C2BFF26F09E35F3F7C1825AB4DE3D2250834996377651A88529F230E7A5E3C313CE7A14FD7F3001E2077B10D30AC5B2197E154FF8B6279D7AD9C9E8BAD580561C6CA8E18F7BD9E0CCFDEA7B6B164F241163673DB81F5AEC1CA7C2B761D5B70624E11C76B3FDC9A862CEC62EA8662A1CEC0A38CECC428BD3CC9E100A811FF4E8C69E4F228C4138A231E22F7C4F8122D5D62FF8AB70BFF774C273472DDB282A022BCAB3C80475F423FC021DF3EE295A4F6CC310DAB4A6FC90C72720D6DB2C119E5EFCF4DE31E94414B17E778281963CEFD10FF82290E81DAF98238C721B873E6E0D8A28A163532C5AF4C2A001162CA34EED0E616D3357F9998F0A769DC900D76B227A9264F94400802110F23AC08BB47AF641DEB2989158E01AFA6D20986C878C46EBC92BD902009909158B5C8166D9F0B48DC84BEF7E8BB2923CD92E7050AD798C38EFCE675733F0A6D49F1B155A0B111A355A63D915A253E165EAB5A0C41ADCAE150D81592DBE575C37F6F3EB5D02EE0B05F4467486D437486FC3EA158ABEB731CA88B4AA05655555768634FB36CE7D01B1070C70CB3A1C175E8903A702A9871ECE98F7FF1E639717481B9FCA102B3E28D0E59ADD968D1251B0D8A075DE43684CDA078109BEF190F82E458F120640F89878CEE50F17085991D9220A971F71D12F2DED8D4F70217F33CFA3EFB801744774846B5877B4B6CC99055A3AE0B4A2F19F36D128BD6160B45FEAB6EE79A3A46C76498B8444DADE01F802E0900ACA0D8C4FC49B159BB90FC802984D4B13F3365CC3FD02B2C7C695CDAC9056B8A988D1CD577603BA7FA04C20487029FC885EB2683C02394AB3145A84D02E476DB8444DEF3EE22D4CC05CA6FAE7080A988A76E3EDB5D935CA064C836BB8DAD12209B715A84471D6834B152C024398DBB235093D4AAC096999D8E4667720C76DE5C4D226B0A8FA6ACD6ACE95E23A355A91AF3F5391706475FBD8DBA405E5F21F60EBC7A9BECA6C4DE632EC91840C3810287A90277DBABA5788637BAEAFE89E1B4A061694A95E12178CE31AF1E237195566428E52857C2B2CA4553F229CC6490756159C3A695382D9815E2E4D091884BD6AF8AD7DE424BAB5B2EAC3240BAA7EC7C3B5ACB2AC8EB9EA64B8CEB3956F0086B3B58AB542AA9F6A949142DA9A2A46AEACD867DABC94136E11E365977B9D123A22D7BF4C91F6D9BE973ECF7C1568391B27A363F9D8A2EBF95B4F9B3718055330F18DFA120806B42693E903E31E6C97060FA6EDEBF6BEE253C2C9B699AE7B9B6B924B8FBA03596DE8268D0F486848C5F218E9648DC27A68EA72C2B9FC53527522649396E550F6687554622FE4EC81ABAF89AA495D2DFC0CE3C91FAE20B9E1AFA1AD27846835C1436B400A7BE1B79B4BD086DE796745174FC92372AC7B125ED4D49C28A15957AA9EA974E5EEB12CABD9C27E5C2FE2E6C6350677AB5135D367F5BA7BB8DB38EDF3068F403DA3161B10F280C04403FB7EFEE9CA2F329F3F9C6E235291876744C5C2BF6778C9EACCEA459B3AE6C507DE3AF894BA50557665579D19D5FB9CD56D1ACF4FCF0CEAED622AAC7D302B4D5A9E9BA2E8E136595C663955253B543AF107CAEBF509684F7D1ABF646BD33021B55823AC821710B65C64433366FC476DCB15C6CAA18506A4E79498EC0BCF6946ACC715AEFB57F98A21480C912D380EDBF1247147FF32D033B8DC482D1FC0F77EA12C07CB1E00E51B2C222A18A2980797E7A762E7DDBF2ED7C676231E6B89A7A59F7B1C98051C67EBFF820348BDEA6A1C5C0217779B2475F5168BFA0F0070F6D7E2C7354471543BF871838277D9BCF11DEC4B0D5F16C2C42695ACDA8833713F3CF98E4C298FD961E1127C643089174619C1A7FEDE1B385AEC20BCA1E0AF41BCB0FF4FBEEF3F137F3F15B078E9A9E0F39467D13B36926A73D2CA75159998E2E091FE4CCE7E151DB12BADD11B0FB64B468DA1E7A3C59D7913DFCD4A5A1C770A0E9E6FF659A59DC2E7A0D1D953EF58029E8E079DBA1C66A357765BDAC861BCF011C3D60B27BCC01EE31CF8E432268C09971F449AC3A24A8E94E299FBD364C5A937BE6C474963E783C499A0D131ADDD8B40C8CD631AC4E5E654D57A9B5B3DA3A09ED6C93D3B1668AAB63AB9D141E61C02BDBBF3A76E93EC155C6750D03F4234C6DCB6E2FBAD26D835A65B6FBEDCF66FB6DF22D7CD863DEAAF6B8E0E42BFD172D387B1959172C44E78E62BB72E6E56B6674E56747AFA451B644BA3FDC618E1C38102F434E56C8E6F0DAC68CC51F847E456E044BAEBD257666F421E241C461CBD85BBA15638823BC497E3C54AEEA3C7E882F526C1F5B0035096C013FD0CF11719D5CEF1BCDB5BF8685C80DE95551F8928B2BE37A9B73BAF7694746A9F9F294B6C070C50366EC81CED12B1EA2DB13C3B7788DEC6DD6AAAC67D2EE88AAD9C75704AD43E4B19447410F3F01C38EB7F9F81FF60905BEA9380000, N'6.1.3-40302')
SET IDENTITY_INSERT [dbo].[Categories] ON 

INSERT [dbo].[Categories] ([CategoryId], [CategoryName]) VALUES (1, N'Work')
INSERT [dbo].[Categories] ([CategoryId], [CategoryName]) VALUES (2, N'Home')
INSERT [dbo].[Categories] ([CategoryId], [CategoryName]) VALUES (3, N'Shopping')
INSERT [dbo].[Categories] ([CategoryId], [CategoryName]) VALUES (4, N'School')
SET IDENTITY_INSERT [dbo].[Categories] OFF
SET IDENTITY_INSERT [dbo].[Items] ON 

INSERT [dbo].[Items] ([ItemId], [Description], [IsComplete], [List_ListId]) VALUES (44, N'peaches', 0, 3)
INSERT [dbo].[Items] ([ItemId], [Description], [IsComplete], [List_ListId]) VALUES (45, N'oranges', 0, 3)
INSERT [dbo].[Items] ([ItemId], [Description], [IsComplete], [List_ListId]) VALUES (46, N'apples', 0, 3)
INSERT [dbo].[Items] ([ItemId], [Description], [IsComplete], [List_ListId]) VALUES (49, N'Project 1', 1, 4)
INSERT [dbo].[Items] ([ItemId], [Description], [IsComplete], [List_ListId]) VALUES (50, N'milk', 0, 3)
SET IDENTITY_INSERT [dbo].[Items] OFF
SET IDENTITY_INSERT [dbo].[Lists] ON 

INSERT [dbo].[Lists] ([ListId], [ListName]) VALUES (3, N'Grocery List')
INSERT [dbo].[Lists] ([ListId], [ListName]) VALUES (4, N'CS3750')
SET IDENTITY_INSERT [dbo].[Lists] OFF
SET IDENTITY_INSERT [dbo].[ListToCategories] ON 

INSERT [dbo].[ListToCategories] ([ListToCategoryId], [ListId], [CategoryId]) VALUES (9, 3, 2)
INSERT [dbo].[ListToCategories] ([ListToCategoryId], [ListId], [CategoryId]) VALUES (10, 3, 3)
INSERT [dbo].[ListToCategories] ([ListToCategoryId], [ListId], [CategoryId]) VALUES (11, 4, 4)
SET IDENTITY_INSERT [dbo].[ListToCategories] OFF
/****** Object:  Index [IX_List_ListId]    Script Date: 2/4/2017 4:40:46 PM ******/
CREATE NONCLUSTERED INDEX [IX_List_ListId] ON [dbo].[Items]
(
	[List_ListId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [IX_CategoryId]    Script Date: 2/4/2017 4:40:46 PM ******/
CREATE NONCLUSTERED INDEX [IX_CategoryId] ON [dbo].[ListToCategories]
(
	[CategoryId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [IX_ListId]    Script Date: 2/4/2017 4:40:46 PM ******/
CREATE NONCLUSTERED INDEX [IX_ListId] ON [dbo].[ListToCategories]
(
	[ListId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[Items]  WITH CHECK ADD  CONSTRAINT [FK_dbo.Items_dbo.Lists_List_ListId] FOREIGN KEY([List_ListId])
REFERENCES [dbo].[Lists] ([ListId])
GO
ALTER TABLE [dbo].[Items] CHECK CONSTRAINT [FK_dbo.Items_dbo.Lists_List_ListId]
GO
ALTER TABLE [dbo].[ListToCategories]  WITH CHECK ADD  CONSTRAINT [FK_dbo.ListToCategories_dbo.Categories_CategoryId] FOREIGN KEY([CategoryId])
REFERENCES [dbo].[Categories] ([CategoryId])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[ListToCategories] CHECK CONSTRAINT [FK_dbo.ListToCategories_dbo.Categories_CategoryId]
GO
ALTER TABLE [dbo].[ListToCategories]  WITH CHECK ADD  CONSTRAINT [FK_dbo.ListToCategories_dbo.Lists_ListId] FOREIGN KEY([ListId])
REFERENCES [dbo].[Lists] ([ListId])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[ListToCategories] CHECK CONSTRAINT [FK_dbo.ListToCategories_dbo.Lists_ListId]
GO
USE [master]
GO
ALTER DATABASE [Project1Todo] SET  READ_WRITE 
GO
